<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="siteSesHeader">
  <header class="header">
    <div class="container header-container">
      <div class="logo">
        <h1><a th:href="@{/}"><i class="fas fa-language"></i> LinguaLearn</a></h1>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a th:href="@{/}">홈</a></li>
          <li><a th:href="@{/quiz}">단어 퀴즈</a></li>
          <li><a th:href="@{/ai/translate}">번역 도구</a></li>
          <li><a th:href="@{/ai/daily-word}">추천 단어</a></li>
          <li><a th:href="@{/ai/sentence-test}">문장 테스트</a></li>
          <li><a th:href="@{/wrong-sentences}">오답 노트</a></li>
          <li><a th:href="@{/ranking}">랭킹</a></li>
        </ul>
      </nav>
      <div class="user-actions">
        <div class="theme-switcher">
          <button id="theme-toggle" aria-label="테마 변경">
            <i class="fas fa-sun light-icon"></i>
            <i class="fas fa-moon dark-icon"></i>
          </button>
          <div class="theme-dropdown">
            <button data-theme="light">Light</button>
            <button data-theme="dark">Dark</button>
            <button data-theme="blue">Blue</button>
            <button data-theme="green">Green</button>
          </div>
        </div>

        <!-- 로그인 버튼 (세션에 사용자가 없을 때만 표시) -->
        <button th:if="${session.user == null}" class="btn login-btn" id="login-btn">로그인</button>

        <!-- 로그인한 상태일 때 프로필 링크와 로그아웃 버튼 표시 -->
        <div th:if="${session.user != null}" class="user-logged-in">
          <a href="/profile" class="profile-link" title="프로필 보기">
            <div class="avatar" th:text="${#strings.substring(session.user.displayName, 0, 1)}">U</div>
          </a>
          <button class="btn logout-btn" id="logout-btn">로그아웃</button>
        </div>
      </div>
    </div>
  </header>
</div>